# Запуск симуляций Gatling

Для запуска нагрузочных тестов Gatling в вашем проекте используйте следующие команды в терминале. Эти команды помогут выполнить различные сценарии нагрузочного тестирования, симулируя поведение пользователей и собирая важные данные о производительности.

Запуск симуляции Play Load:

```
./gradlew gatlingRunPlayLoadSimulation
```

Эта команда запускает сценарий `PlayLoadSimulation`. Он предназначен для стресс-тестирования основных игровых функций приложения в условиях высокой нагрузки. Используйте его, чтобы оценить, насколько хорошо ваше приложение справляется с увеличением количества одновременных пользователей.

Запуск симуляции получения токена сессии:

```
./gradlew gatlingRunGetSessionToken
```

Эта команда запускает симуляцию `GetSessionToken`, которая фокусируется на тестировании процесса генерации токена для сессии вашего приложения. Она помогает убедиться, что процесс аутентификации устойчив и показывает хорошие результаты при нагрузке, обеспечивая надежную проверку управления пользовательскими сессиями.

- Сгенерированные отчеты можно найти в директории `build/reports/gatling/`. Откройте файл `index.html` в вашем браузере, чтобы увидеть подробные результаты тестирования.

# Полное описание сценария симуляции Full Game

Этот сценарий, названный "Full game scenario", состоит из последовательных шагов, каждый из которых
выполняется с определенной задержкой в 5 секунд. Ниже описано, что происходит на каждом этапе:

1. **Получение анонимного токена сессии**
   - Сценарий начинается с выполнения метода `getAnonymousSessionToken()`, который инициирует
     процесс получения анонимного токена сессии для использования в следующих шагах.

2. **Подключение к WebSocket**
   - После получения токена, выполняется метод `connectWebSocket()`, который устанавливает
     соединение с WebSocket-сервером, позволяя взаимодействовать в реальном времени.

3. **Отправка команд Send Taps**
   - Выполняется метод `sendSendTapsRequest(5, 10)`, который отправляет команду на сервер с
     параметрами координат (5, 10). Это может быть имитация пользовательских действий в игре,
     например, касания.

4. **Получение топ рефералов**
   - Далее, вызывается метод `sendGetTopReferralsRequest(10)`, который запрашивает информацию о
     топ-10 рефералах. Это помогает оценить активность пользователей, приглашенных другими.

5. **Подписка на обновления**
   - Выполняется метод `sendSubscribeRequest()`, который подписывает пользователя на получение
     обновлений в реальном времени.

6. **Получение топ пользователей**
   - Выполняется метод `sendGetTopUsersRequest(10)`, который запрашивает список топ-10
     пользователей, показывая наиболее активных участников.

7. **Получение информации о пользователе**
   - Метод `sendGetUserRequest()` выполняется для получения информации о текущем пользователе,
     включая его уровень, статус и другие данные.

8. **Обновление профиля**
   - Сценарий выполняет метод `sendUpdateProfileRequest("Test", "1123")`, который обновляет профиль
     пользователя с новым ником "Test" и значением кошелька "1123".

9. **Получение пользователей вокруг**
   - Выполняется метод `sendGetUsersAroundRequest(10)`, который запрашивает список пользователей
     вокруг текущего, с лимитом в 10 человек. Это может быть полезно для анализа активности в сети.

10. **Закрытие WebSocket соединения**
   - Наконец, выполняется метод `closeWebSocket()`, который закрывает текущее WebSocket-соединение,
     завершая сценарий.

Каждый шаг сценария включает паузу в 5 секунд между действиями, чтобы имитировать реалистичное
взаимодействие пользователей с приложением, создавая умеренную и предсказуемую нагрузку на систему.